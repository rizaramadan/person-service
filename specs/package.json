{
  "name": "person-service-integration-tests",
  "version": "1.0.0",
  "description": "Integration test suite for Person Service using Testcontainers",
  "type": "module",
  "scripts": {
    "docker:build": "docker compose -f ../source/docker-compose.yml build",
    "pretest": "npm run docker:build",
    "test": "node --experimental-vm-modules node_modules/jest/bin/jest.js --runInBand",
    "test:no-build": "node --experimental-vm-modules node_modules/jest/bin/jest.js --runInBand",
    "test:coverage": "npm test && npm run coverage:merge",
    "coverage:unit": "cd ../source/app && go test -coverprofile=../../specs/coverage/unit.out ./...",
    "coverage:integration": "go tool covdata textfmt -i=coverage/go-data -o coverage/int.out",
    "coverage:merge": "npm run coverage:unit && npm run coverage:integration && node setup/merge-coverage.js coverage/coverage.out coverage/unit.out coverage/int.out && npm run coverage:report",
    "coverage:report": "cd ../source/app && go tool cover -func=../../specs/coverage/coverage.out > ../../specs/coverage/func.txt && go tool cover -html=../../specs/coverage/coverage.out -o ../../specs/coverage/report.html && cd ../../specs && node setup/parse-coverage.js coverage/func.txt coverage/coverage.json && echo 'Combined coverage reports generated in coverage/'"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "devDependencies": {
    "@jest/globals": "^29.7.0",
    "@testcontainers/postgresql": "^11.10.0",
    "jest": "^29.7.0",
    "jest-cucumber": "^4.0.0"
  },
  "dependencies": {
    "node-fetch": "^3.3.2",
    "pg": "^8.11.3",
    "testcontainers": "^10.7.2"
  }
}